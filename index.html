<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beatmap Selector</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #1a1a1a; /* Dark background color */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
            color: #ddd; /* Light text color */
        }

        h1 {
            color: #ddd; /* Light text color */
        }

        /* DOWNLOAD BUTTON*/
        /* Add styling to create a blue square button */
        .download-button {
            display: inline-block;
            width: 18px; /* Adjust the width as needed */
            height: 18px; /* Adjust the height as needed */
            background-color: #3498db; /* Change the color as needed */
            border-radius: 3px;
            text-decoration: none;
            margin-left: 10px; /* Add margin for spacing */
            cursor: pointer; /* Add a pointer cursor to indicate it's clickable */
        }

        <style >
        /* Add this CSS to style the file upload section */
        .file-upload-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 10px;
        }

        .file-button, .import-button, .export-button {
            padding: 5px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .file-button {
            background-color: #3498db; /* Change the color as needed */
            color: #fff; /* White text color */
        }

        .import-button {
            background-color: #3498db; /* Change the color as needed */
            color: #fff; /* White text color */
            margin-left: 10px; /* Add margin for spacing */
        }

        .export-button {
            background-color: #3498db; /* Change the color as needed */
            color: #fff; /* White text color */
            margin-left: 10px; /* Add margin for spacing */
        }

        #fileName {
            margin-bottom: 10px;
            color: #ddd; /* Light text color */
        }

        .progress-container {
            width: 100%;
            background-color: #444; /* Darker background color */
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 20px;
            background-color: #4CAF50;
            width: 0;
            text-align: center;
            line-height: 20px;
            color: white;
        }

        .button-container {
            display: flex;
            margin-top: 10px;
        }

        .dropdown-container {
            position: relative;
            display: inline-block;
            margin-left: 20px;
        }

        .dropdown-button,
        .beatmap-button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #8b0000; /* Dark red background color */
            color: #fff; /* White text color */
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .beatmap-button {
            margin-left: 0;
        }

        .beatmap-list {
            display: none;
            text-align: center;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: #333; /* Darker background color */
            border: 1px solid #555; /* Darker border color */
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 10px;
            max-width: 300px;
            z-index: 1;
        }

            .beatmap-list ul {
                list-style: none;
                padding: 0;
                margin: 0;
            }

            .beatmap-list li {
                display: flex;
                align-items: center;
                margin: 10px 0;
                cursor: pointer;
                color: #ddd; /* Light text color */
                font-size: 16px;
                transition: color 0.3s ease;
            }

                .beatmap-list li input[type="checkbox"] {
                    margin-right: 10px;
                }

                .beatmap-list li.green {
                    color: #4CAF50;
                }

                    .beatmap-list li.green input[type="checkbox"] {
                        color: #4CAF50;
                    }

                .beatmap-list li:hover {
                    color: #4CAF50;
                }
    </style>
</head>

<body>

    <h1>Beatmap Checker</h1>

    <!--Progress Bar Section-->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar">0%</div>
    </div>

    <!-- File Upload Section -->
    <div class="file-upload-container">
        <label for="fileInput" class="file-button">Choose File</label>
        <input type="file" id="fileInput" accept=".txt" style="display: none;" onchange="updateFileName()">
        <span id="fileName">No file chosen</span>
        <button class="import-button" onclick="importBeatmaps()">Import</button>
        <button class="export-button" onclick="exportBeatmaps()">Export</button>
    </div>

    <!--Button Classes/Containers-->
    <div class="button-container">
        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#1')" data-list="beatmapList1">BP#1</button>
            <div class="beatmap-list" id="beatmapList1">
                <!-- Beatmap list for BP#1 -->
                <ul id="bp1BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(1);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#2')" data-list="beatmapList2">BP#2</button>
            <div class="beatmap-list" id="beatmapList2">
                <!-- Beatmap list for BP#2 -->
                <ul id="bp2BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(2);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#3')" data-list="beatmapList3">BP#3</button>
            <div class="beatmap-list" id="beatmapList3">
                <!-- Beatmap list for BP#3 -->
                <ul id="bp3BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(3);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#4')" data-list="beatmapList4">BP#4</button>
            <div class="beatmap-list" id="beatmapList4">
                <!-- Beatmap list for BP#4 -->
                <ul id="bp4BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(4);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#5')" data-list="beatmapList5">BP#5</button>
            <div class="beatmap-list" id="beatmapList5">
                <!-- Beatmap list for BP#5 -->
                <ul id="bp5BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(5);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#6')" data-list="beatmapList6">BP#6</button>
            <div class="beatmap-list" id="beatmapList6">
                <!-- Beatmap list for BP#6 -->
                <ul id="bp6BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(6);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#7')" data-list="beatmapList7">BP#7</button>
            <div class="beatmap-list" id="beatmapList7">
                <!-- Beatmap list for BP#7 -->
                <ul id="bp7BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(7);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#8')" data-list="beatmapList8">BP#8</button>
            <div class="beatmap-list" id="beatmapList8">
                <!-- Beatmap list for BP#8 -->
                <ul id="bp8BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(8);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#9')" data-list="beatmapList9">BP#9</button>
            <div class="beatmap-list" id="beatmapList9">
                <!-- Beatmap list for BP#9 -->
                <ul id="bp9BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(9);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#10')" data-list="beatmapList10">BP#10</button>
            <div class="beatmap-list" id="beatmapList10">
                <!-- Beatmap list for BP#10 -->
                <ul id="bp10BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(10);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#11')" data-list="beatmapList11">BP#11</button>
            <div class="beatmap-list" id="beatmapList11">
                <!-- Beatmap list for BP#11 -->
                <ul id="bp11BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(11);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#12')" data-list="beatmapList12">BP#12</button>
            <div class="beatmap-list" id="beatmapList12">
                <!-- Beatmap list for BP#12 -->
                <ul id="bp12BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(12);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#13')" data-list="beatmapList13">BP#13</button>
            <div class="beatmap-list" id="beatmapList13">
                <!-- Beatmap list for BP#13 -->
                <ul id="bp13BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(13);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#14')" data-list="beatmapList14">BP#14</button>
            <div class="beatmap-list" id="beatmapList14">
                <!-- Beatmap list for BP#14 -->
                <ul id="bp14BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(14);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#15')" data-list="beatmapList15">BP#15</button>
            <div class="beatmap-list" id="beatmapList15">
                <!-- Beatmap list for BP#15 -->
                <ul id="bp15BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(15);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#16')" data-list="beatmapList16">BP#16</button>
            <div class="beatmap-list" id="beatmapList16">
                <!-- Beatmap list for BP#16 -->
                <ul id="bp16BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(16);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#17')" data-list="beatmapList17">BP#17</button>
            <div class="beatmap-list" id="beatmapList17">
                <!-- Beatmap list for BP#17 -->
                <ul id="bp17BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(17);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#18')" data-list="beatmapList18">BP#18</button>
            <div class="beatmap-list" id="beatmapList18">
                <!-- Beatmap list for BP#18 -->
                <ul id="bp18BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(18);
            });
        </script>

    </div>
    <div class="button-container">
        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#19')" data-list="beatmapList19">BP#19</button>
            <div class="beatmap-list" id="beatmapList19">
                <!-- Beatmap list for BP#19 -->
                <ul id="bp19BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(19);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#20')" data-list="beatmapList20">BP#20</button>
            <div class="beatmap-list" id="beatmapList20">
                <!-- Beatmap list for BP#20 -->
                <ul id="bp20BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(20);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#21')" data-list="beatmapList21">BP#21</button>
            <div class="beatmap-list" id="beatmapList21">
                <!-- Beatmap list for BP#21 -->
                <ul id="bp21BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(21);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#22')" data-list="beatmapList22">BP#22</button>
            <div class="beatmap-list" id="beatmapList22">
                <!-- Beatmap list for BP#22 -->
                <ul id="bp22BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(22);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#23')" data-list="beatmapList23">BP#23</button>
            <div class="beatmap-list" id="beatmapList23">
                <!-- Beatmap list for BP#23 -->
                <ul id="bp23BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(23);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#24')" data-list="beatmapList24">BP#24</button>
            <div class="beatmap-list" id="beatmapList24">
                <!-- Beatmap list for BP#24 -->
                <ul id="bp24BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(24);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#25')" data-list="beatmapList25">BP#25</button>
            <div class="beatmap-list" id="beatmapList25">
                <!-- Beatmap list for BP#25 -->
                <ul id="bp25BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(25);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#26')" data-list="beatmapList26">BP#26</button>
            <div class="beatmap-list" id="beatmapList26">
                <!-- Beatmap list for BP#26 -->
                <ul id="bp26BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(26);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#27')" data-list="beatmapList27">BP#27</button>
            <div class="beatmap-list" id="beatmapList27">
                <!-- Beatmap list for BP#27 -->
                <ul id="bp27BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(27);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#28')" data-list="beatmapList28">BP#28</button>
            <div class="beatmap-list" id="beatmapList28">
                <!-- Beatmap list for BP#28 -->
                <ul id="bp28BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(28);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#29')" data-list="beatmapList29">BP#29</button>
            <div class="beatmap-list" id="beatmapList29">
                <!-- Beatmap list for BP#29 -->
                <ul id="bp29BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(29);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#30')" data-list="beatmapList30">BP#30</button>
            <div class="beatmap-list" id="beatmapList30">
                <!-- Beatmap list for BP#30 -->
                <ul id="bp30BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(30);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#31')" data-list="beatmapList31">BP#31</button>
            <div class="beatmap-list" id="beatmapList31">
                <!-- Beatmap list for BP#31 -->
                <ul id="bp31BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(31);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#32')" data-list="beatmapList32">BP#32</button>
            <div class="beatmap-list" id="beatmapList32">
                <!-- Beatmap list for BP#32 -->
                <ul id="bp32BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(32);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#33')" data-list="beatmapList33">BP#33</button>
            <div class="beatmap-list" id="beatmapList33">
                <!-- Beatmap list for BP#33 -->
                <ul id="bp33BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(33);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#34')" data-list="beatmapList34">BP#34</button>
            <div class="beatmap-list" id="beatmapList34">
                <!-- Beatmap list for BP#34 -->
                <ul id="bp34BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(34);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#35')" data-list="beatmapList35">BP#35</button>
            <div class="beatmap-list" id="beatmapList35">
                <!-- Beatmap list for BP#35 -->
                <ul id="bp35BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(35);
            });
        </script>

    </div>
    <div class="button-container">
        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#36')" data-list="beatmapList36">BP#36</button>
            <div class="beatmap-list" id="beatmapList36">
                <!-- Beatmap list for BP#36 -->
                <ul id="bp36BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(36);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#37')" data-list="beatmapList37">BP#37</button>
            <div class="beatmap-list" id="beatmapList37">
                <!-- Beatmap list for BP#37 -->
                <ul id="bp37BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(37);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#38')" data-list="beatmapList38">BP#38</button>
            <div class="beatmap-list" id="beatmapList38">
                <!-- Beatmap list for BP#38 -->
                <ul id="bp38BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(38);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#39')" data-list="beatmapList39">BP#39</button>
            <div class="beatmap-list" id="beatmapList39">
                <!-- Beatmap list for BP#39 -->
                <ul id="bp39BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(39);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#40')" data-list="beatmapList40">BP#40</button>
            <div class="beatmap-list" id="beatmapList40">
                <!-- Beatmap list for BP#40 -->
                <ul id="bp40BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(40);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#41')" data-list="beatmapList41">BP#41</button>
            <div class="beatmap-list" id="beatmapList41">
                <!-- Beatmap list for BP#41 -->
                <ul id="bp41BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(41);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#42')" data-list="beatmapList42">BP#42</button>
            <div class="beatmap-list" id="beatmapList42">
                <!-- Beatmap list for BP#42 -->
                <ul id="bp42BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(42);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#43')" data-list="beatmapList43">BP#43</button>
            <div class="beatmap-list" id="beatmapList43">
                <!-- Beatmap list for BP#43 -->
                <ul id="bp43BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(43);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#44')" data-list="beatmapList44">BP#44</button>
            <div class="beatmap-list" id="beatmapList44">
                <!-- Beatmap list for BP#44 -->
                <ul id="bp44BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(44);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#45')" data-list="beatmapList45">BP#45</button>
            <div class="beatmap-list" id="beatmapList45">
                <!-- Beatmap list for BP#45 -->
                <ul id="bp45BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(45);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#46')" data-list="beatmapList46">BP#46</button>
            <div class="beatmap-list" id="beatmapList46">
                <!-- Beatmap list for BP#46 -->
                <ul id="bp46BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(46);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#47')" data-list="beatmapList47">BP#47</button>
            <div class="beatmap-list" id="beatmapList47">
                <!-- Beatmap list for BP#47 -->
                <ul id="bp47BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(47);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#48')" data-list="beatmapList48">BP#48</button>
            <div class="beatmap-list" id="beatmapList48">
                <!-- Beatmap list for BP#48 -->
                <ul id="bp48BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(48);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#49')" data-list="beatmapList49">BP#49</button>
            <div class="beatmap-list" id="beatmapList49">
                <!-- Beatmap list for BP#49 -->
                <ul id="bp49BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(49);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#50')" data-list="beatmapList50">BP#50</button>
            <div class="beatmap-list" id="beatmapList50">
                <!-- Beatmap list for BP#50 -->
                <ul id="bp50BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(50);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#51')" data-list="beatmapList51">BP#51</button>
            <div class="beatmap-list" id="beatmapList51">
                <!-- Beatmap list for BP#51 -->
                <ul id="bp51BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(51);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#52')" data-list="beatmapList52">BP#52</button>
            <div class="beatmap-list" id="beatmapList52">
                <!-- Beatmap list for BP#52 -->
                <ul id="bp52BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(52);
            });
        </script>
    </div>

    <div class="button-container">
        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#53')" data-list="beatmapList53">BP#53</button>
            <div class="beatmap-list" id="beatmapList53">
                <!-- Beatmap list for BP#53 -->
                <ul id="bp53BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(53);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#54')" data-list="beatmapList54">BP#54</button>
            <div class="beatmap-list" id="beatmapList54">
                <!-- Beatmap list for BP#54 -->
                <ul id="bp54BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(54);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#55')" data-list="beatmapList55">BP#55</button>
            <div class="beatmap-list" id="beatmapList55">
                <!-- Beatmap list for BP#55 -->
                <ul id="bp55BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(55);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#56')" data-list="beatmapList56">BP#56</button>
            <div class="beatmap-list" id="beatmapList56">
                <!-- Beatmap list for BP#56 -->
                <ul id="bp56BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(56);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#57')" data-list="beatmapList57">BP#57</button>
            <div class="beatmap-list" id="beatmapList57">
                <!-- Beatmap list for BP#57 -->
                <ul id="bp57BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(57);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#58')" data-list="beatmapList58">BP#58</button>
            <div class="beatmap-list" id="beatmapList58">
                <!-- Beatmap list for BP#58 -->
                <ul id="bp58BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(58);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#59')" data-list="beatmapList59">BP#59</button>
            <div class="beatmap-list" id="beatmapList59">
                <!-- Beatmap list for BP#59 -->
                <ul id="bp59BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(59);
            });
        </script>

        <div class="dropdown-container">
            <button class="dropdown-button" onclick="toggleBeatmapList('BP#60')" data-list="beatmapList60">BP#60</button>
            <div class="beatmap-list" id="beatmapList60">
                <!-- Beatmap list for BP#60 -->
                <ul id="bp60BeatmapList"></ul>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Call the function with the desired beatmap pack number
                loadBeatmapPack(60);
            });
        </script>

        <div class="dropdown-container" id="beatmapPacksContainer"></div>

    </div>
    <script>
        //Download Button link
        function handleDownloadClick(beatmapId) {
            // Add your custom logic here if needed
            return true; // This will allow the default behavior (opening in a new tab) to occur
        }

        function toggleBeatmapList(buttonId) {
            var beatmapList = document.getElementById(`beatmapList${buttonId.substring(3)}`);
            var currentDisplay = window.getComputedStyle(beatmapList).display;
            beatmapList.style.display = (currentDisplay === "none") ? "block" : "none";
            updateButtonColors();
        }

        function handleBeatmapClick(beatmapId, event) {
            var listItem = document.querySelector(`li[data-beatmap="${beatmapId}"]`);
            var checkbox = listItem.querySelector('.checkbox');

            // Toggle the checkbox state
            checkbox.checked = !checkbox.checked;

            // Update the green class based on the new checkbox state
            if (checkbox.checked) {
                listItem.classList.add('green');
            } else {
                listItem.classList.remove('green');
            }

            updateButtonColors(); // Update button colors after changing checkbox state

            // Clicking on the text, open a new tab with the link
            if (event.target !== checkbox) {
                window.open(`https://osu.ppy.sh/b/${beatmapId}`, '_blank');
            }

            // Prevent the default checkbox behavior to avoid double-toggle
            event.preventDefault();
        }


        function updateButtonColors() {
            var dropdownButtons = document.querySelectorAll('.dropdown-button');

            dropdownButtons.forEach(function (button) {
                var listId = button.getAttribute('data-list');
                var checkboxes = document.querySelectorAll(`#${listId} .checkbox`);
                var allCheckboxesAreTrue = Array.from(checkboxes).every(checkbox => checkbox.checked);

                if (allCheckboxesAreTrue) {
                    button.style.backgroundColor = 'green';
                } else {
                    button.style.backgroundColor = ''; // Reset to default color
                }
            });

            updateProgressBar(); // Update the progress bar as well
        }

        function updateProgressBar() {
            var checkboxes = document.querySelectorAll('.checkbox:checked');
            var progressBar = document.getElementById('progressBar');

            var totalCheckboxCount = document.querySelectorAll('.checkbox').length;
            var checkedCheckboxCount = checkboxes.length;

            var allCheckboxesAreTrue = checkedCheckboxCount === totalCheckboxCount;

            var progressPercentage = (checkedCheckboxCount / totalCheckboxCount) * 100;
            progressBar.style.width = progressPercentage + '%';
            progressBar.innerText = progressPercentage.toFixed(2) + '% Complete';

            console.log(`Total Checkboxes: ${totalCheckboxCount}, Checked Checkboxes: ${checkedCheckboxCount}`);
            console.log("Total Checkboxes:", totalCheckboxCount);
            console.log("Checked Checkboxes:", checkedCheckboxCount);
            console.log("All Checkboxes Are True:", allCheckboxesAreTrue);
        }

        // Import .txt file that contains the beatmap ids
        function importBeatmaps() {
            var fileInput = document.getElementById('fileInput');

            if (fileInput.files.length > 0) {
                var file = fileInput.files[0];
                var reader = new FileReader();

                reader.onload = function (e) {
                    var beatmapIdsFromFile = e.target.result.split('\n').map(line => line.trim());

                    // Iterate through all checkboxes and update their state based on the imported beatmap IDs
                    var checkboxes = document.querySelectorAll('.checkbox');
                    checkboxes.forEach(function (checkbox) {
                        var beatmapId = checkbox.parentElement.getAttribute('data-beatmap');
                        checkbox.checked = beatmapIdsFromFile.includes(beatmapId);

                        // Update the green class based on the new checkbox state
                        var listItem = checkbox.closest('li');
                        if (checkbox.checked) {
                            listItem.classList.add('green');
                        } else {
                            listItem.classList.remove('green');
                        }
                    });

                    updateButtonColors(); // Update button colors after changing checkbox states
                };

                reader.readAsText(file);
            }
        }

        function updateFileName() {
            const fileInput = document.getElementById('fileInput');
            const fileNameSpan = document.getElementById('fileName');
            fileNameSpan.textContent = fileInput.files.length > 0 ? fileInput.files[0].name : 'No file chosen';
        }

        function exportBeatmaps() {
            // Get all beatmap list items
            const beatmapItems = document.querySelectorAll('.beatmap-list li');

            // Filter items to get only those with checked checkboxes
            const checkedBeatmapItems = Array.from(beatmapItems).filter(item => {
                const checkbox = item.querySelector('input[type="checkbox"]');
                return checkbox.checked;
            });

            // Extract beatmap IDs from data-beatmap attribute of checked items
            const beatmapIds = checkedBeatmapItems.map(item => {
                return item.getAttribute('data-beatmap');
            });

            // Create a text file content with the beatmap IDs
            const fileContent = beatmapIds.join('\n');

            // Create a Blob containing the file content
            const blob = new Blob([fileContent], { type: 'text/plain' });

            // Create a link element to trigger the download
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'exported_beatmaps.txt';

            // Append the link to the document and trigger the download
            document.body.appendChild(a);
            a.click();

            // Clean up by removing the link element
            document.body.removeChild(a);
        }

        // Assuming you already have a function to create buttons and handle beatmap clicks
        function createBeatmapButton(id) {
            const button = document.createElement('button');
            button.innerText = `Beatmap #${id}`;
            button.onclick = function (event) {
                handleBeatmapClick(id, event);
            };
            return button;
        }

        //Json Fetch Method, This is important method to gather data from json, and gets called for each button.
        function loadBeatmapPack(targetPackNumber) {
            // Load beatmap data from JSON file
            fetch('./data/beatmapData.json')
                .then(response => response.json())
                .then(data => {
                    // Find the target pack with the matching number
                    const targetPack = data.beatmapPacks.find(pack => pack.packName.match(/\d+/)[0] === targetPackNumber.toString());

                    // If the target pack is found, create list items
                    if (targetPack) {
                        // Get the ul element for the target pack
                        const targetPackUl = document.getElementById(`bp${targetPackNumber}BeatmapList`);

                        // Loop through beatmap IDs and create list items
                        targetPack.beatmapIds.forEach(beatmapId => {
                            const li = document.createElement("li");
                            li.setAttribute("data-beatmap", beatmapId);
                            li.innerHTML = `<input type="checkbox" class="checkbox">${beatmapId}`;
                            li.onclick = event => handleBeatmapClick(beatmapId, event);

                            // Append li to ul
                            targetPackUl.appendChild(li);
                        });
                    } else {
                        console.error(`Beatmap pack with number ${targetPackNumber} not found in the JSON file.`);
                    }
                })
                .catch(error => console.error('Error loading beatmap data:', error));
        }
    </script>
</body>
</html>
